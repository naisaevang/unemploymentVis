<!DOCTYPE html>
<meta charset="utf-8">
 <title>Visualizing Unemployment</title>
 <!-- Stylesheets -->
 <link href="css/tipsy.css" rel="stylesheet" type="text/css" />
 <link href="css/style.css" rel="stylesheet" type="text/css" />
 <link type="text/css" rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8/themes/base/jquery-ui.css">
 <link type="text/css" rel="stylesheet" href="css/graph.css">
 <link type="text/css" rel="stylesheet" href="css/detail.css">
 <link type="text/css" rel="stylesheet" href="css/legend.css">
 <link type="text/css" rel="stylesheet" href="css/extensions.css">
   <!-- Google Fonts embed code -->
        <script type="text/javascript">
            (function() {
                var link_element = document.createElement("link"),
                    s = document.getElementsByTagName("script")[0];
                if (window.location.protocol !== "http:" && window.location.protocol !== "https:") {
                    link_element.href = "http:";
                }
                link_element.href += "//fonts.googleapis.com/css?family=Open+Sans:300italic,300,400italic,400,600italic,600,700italic,700,800italic,800";
                link_element.rel = "stylesheet";
                link_element.type = "text/css";
                s.parentNode.insertBefore(link_element, s);
            })();
        </script>
<body> 
<h1>Visualizing U.S. Unemployment</h1>
<!-- Bootstrap navigation -->
<div id="navigation">
    <ul class="nav nav-pills">
  <li><a href="index.html">Map</a></li>
  <li class="active"><a href="linegraph.html">Line Graph</a></li>
  <li><a href="bubble.html">Bubble Chart</a></li>
</ul></div>
<script src="vendor/d3.min.js"></script>
<script src="vendor/d3.v3.js"></script>
<script src="vendor/d3.layout.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.15/jquery-ui.min.js"></script>
<script src="js/rickshaw.js"></script>
  <div id="side_panel">
    <section> Hover or click between states below to compare their unemployment rates over time.<br>
      Each state is colored by region.<br>
      <img src="img/orange.jpg"></img> South  <img src="img/crimson.jpg"></img> West <img src="img/blue.jpg"></img> Midwest  <img src="img/green.jpg"></img> Northeast
      <br><br><div id="legend"></div></section> </div>

  <div id="chart_container">
    <div id="chart"></div>
  </div>

<script>
var clr_domain = ["west", "midwest", "south", "northeast"]
var fill_color = d3.scale.ordinal()
                  .domain(clr_domain)
                  .range(["crimson", "steelblue", "orange", "green"]);

var seriesData = [ [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], [], []  ];

var unemploymentRates =[7.1,6.8,8.1,7.2,10.1,7.7,8.4,7.1,8.6,8.2,8.8,5.4,6.6,8.8,8.4,5.1,5.6,8.1,5.9,7.2,6.8,6.7,9.1,5.6,9.1,6.7,5.8,3.9,10.3,5.7,9.6,6.8,8.4,9.4,3.2,6.9,5.2,8.5,8,10.1,8.8,4.4,7.8,6.4,5.5,5,5.8,7.8,7.5,6.8,5.1,6.2,6.5,8.3,7.4,8.9,7,8.1,7.3,8.7,7,8.7,4.3,6.8,9.2,8.1,4.9,5.9,8.4,7,7,7,7.2,9,5.1,8.5,7.2,5.3,4.2,9.5,5,8.5,6.8,7.6,8.7,3,7.3,5.3,8.1,7.7,9.1,8.1,3.8,8.5,6.4,4.7,4.6,5.8,7,6.2,6.7,4.6,6.4,6.5,8.3,7.4,8.7,6.9,8,7,8.6,6.8,8.3,4.3,6.8,9.1,7.8,4.7,5.7,8.3,6.8,6.9,6.7,7.1,9,5,8.5,6.9,5.3,4.1,9.4,5,8.4,6.7,7.6,8.3,2.8,7.4,5.4,7.8,7.6,9.2,7.9,3.7,8.4,6.3,4.7,4.6,5.6,6.9,6.2,6.6,4.5,6.5,6.5,8.2,7.5,8.7,6.8,7.9,6.8,8.9,6.7,8.1,4.4,6.7,8.9,7.5,4.6,5.6,8.4,6.5,6.7,6.7,7.2,9,4.8,8.5,6.5,5.2,3.9,9.3,5.1,8.4,6.6,7.7,8,2.7,7.5,5.5,7.7,7.5,9.2,7.5,3.7,8.4,6.2,4.6,4.5,5.6,7,6.2,6.5,4.6,0];

var j = 0;

for (var i=0; i < 4; i++)
{
  seriesData.forEach( function (series) {
    
    series.push( { x: i, y: unemploymentRates[j] } );
    j++;
  });
}

var graph = new Rickshaw.Graph( {
  width: 800,
  height: 500,
  element: document.getElementById("chart"),
  renderer: 'line',
  padding: { top: 0.1, left: 0.1, right: 0.1, bottom: 0.1 },
  series: [{color:"orange",name:"Alabama",data:seriesData[0]},
{color:"crimson",name:"Alaska",data:seriesData[1]},
{color:"crimson",name:"Arizona",data:seriesData[2]},
{color:"orange",name:"Arkansas",data:seriesData[3]},
{color:"crimson",name:"California",data:seriesData[4]},
{color:"crimson",name:"Colorado",data:seriesData[5]},
{color:"green",name:"Connecticut",data:seriesData[6]},
{color:"orange",name:"Delaware",data:seriesData[7]},
{color:"orange",name:"District of Columbia",data:seriesData[8]},
{color:"orange",name:"Florida",data:seriesData[9]},
{color:"orange",name:"Georgia",data:seriesData[10]},
{color:"crimson",name:"Hawaii",data:seriesData[11]},
{color:"crimson",name:"Idaho",data:seriesData[12]},
{color:"steelblue",name:"Illinois",data:seriesData[13]},
{color:"steelblue",name:"Indiana",data:seriesData[14]},
{color:"steelblue",name:"Iowa",data:seriesData[15]},
{color:"steelblue",name:"Kansas",data:seriesData[16]},
{color:"orange",name:"Kentucky",data:seriesData[17]},
{color:"orange",name:"Louisiana",data:seriesData[18]},
{color:"green",name:"Maine",data:seriesData[19]},
{color:"orange",name:"Maryland",data:seriesData[20]},
{color:"green",name:"Massachusetts",data:seriesData[21]},
{color:"steelblue",name:"Michigan",data:seriesData[22]},
{color:"steelblue",name:"Minnesota",data:seriesData[23]},
{color:"orange",name:"Mississippi",data:seriesData[24]},
{color:"steelblue",name:"Missouri",data:seriesData[25]},
{color:"crimson",name:"Montana",data:seriesData[26]},
{color:"steelblue",name:"Nebraska",data:seriesData[27]},
{color:"crimson",name:"Nevada",data:seriesData[28]},
{color:"green",name:"New Hampshire",data:seriesData[29]},
{color:"green",name:"New Jersey",data:seriesData[30]},
{color:"crimson",name:"New Mexico",data:seriesData[31]},
{color:"green",name:"New York",data:seriesData[32]},
{color:"orange",name:"North Carolina",data:seriesData[33]},
{color:"steelblue",name:"North Dakota",data:seriesData[34]},
{color:"steelblue",name:"Ohio",data:seriesData[35]},
{color:"orange",name:"Oklahoma",data:seriesData[36]},
{color:"crimson",name:"Oregon",data:seriesData[37]},
{color:"green",name:"Pennsylvania",data:seriesData[38]},
{color:"green",name:"Rhode Island",data:seriesData[39]},
{color:"orange",name:"South Carolina",data:seriesData[40]},
{color:"steelblue",name:"South Dakota",data:seriesData[41]},
{color:"orange",name:"Tennessee",data:seriesData[42]},
{color:"orange",name:"Texas",data:seriesData[43]},
{color:"crimson",name:"Utah",data:seriesData[44]},
{color:"green",name:"Vermont",data:seriesData[45]},
{color:"orange",name:"Virginia",data:seriesData[46]},
{color:"crimson",name:"Washington",data:seriesData[47]},
{color:"orange",name:"West Virginia",data:seriesData[48]},
{color:"steelblue",name:"Wisconsin",data:seriesData[49]},
{color:"crimson",name:"Wyoming",data:seriesData[50]}
]
} );

var hoverDetail = new Rickshaw.Graph.HoverDetail( {
    graph: graph,
    xFormatter: function(x) {       switch(x) {
        case 0: return 'October 2012';
        case 1: return 'August 2013';
        case 2: return 'September 2013';
        case 3: return 'October 2013';
      } },
    yFormatter: function(y) { return y + " percent" }
} );


graph.render();

var yAxis = new Rickshaw.Graph.Axis.Y({
    graph: graph
});

yAxis.render();

var xAxis = new Rickshaw.Graph.Axis.X( {
    graph: graph,
    tickFormat: function(x){
      switch(x) {
        case 0: return '12-Oct';
        case 1: return '13-Aug';
        case 2: return '13-Sept';
        case 3: return '13-Oct';
      }
    }
} );

xAxis.render();

var legend = new Rickshaw.Graph.Legend({
  graph: graph,
  element: document.querySelector('#legend')
});

var shelving = new Rickshaw.Graph.Behavior.Series.Toggle( {
  graph: graph,
  legend: legend
} );

var order = new Rickshaw.Graph.Behavior.Series.Order( {
  graph: graph,
  legend: legend
} );

var highlight = new Rickshaw.Graph.Behavior.Series.Highlight( {
  graph: graph,
  legend: legend
} );

</script>
<br><div id="about">
<span class="about">About</span><br>
Data from United States <a href="http://www.bls.gov/">Bureau of Labor Statistics</a>.  Current release: October 2013 preliminary.<br>
Designed and built with <a href="http://d3js.org/">D3.js</a>; colors by <a href="http://colorbrewer2.org/">colorbrewer</a>.  Interactive Line graph utilizes <a href="http://code.shutterstock.com/rickshaw/">Rickshaw</a> toolkit.<br>
Animated Bubble Chart modified from <a href="http://vallandingham.me/bubble_charts_in_d3.html">Jim Vallandingham</a>.
Navigation and buttons from <a href="getbootstrap.com">Bootstrap.css</a>.
<br><br><br><br>
</body>

